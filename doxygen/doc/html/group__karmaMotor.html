<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>karma: Motor Part of the KARMA Experiment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">karma
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Motor Part of the KARMA Experiment</div>  </div>
</div><!--header-->
<div class="contents">

<p>Motor Control Module that allows the robot to push/draw the object and explore a tool.  
<a href="#details">More...</a></p>
<p>Motor Control Module that allows the robot to push/draw the object and explore a tool. </p>
<h1><a class="anchor" id="intro_sec"></a>
Description</h1>
<p>This module aims to control the robot hands in order to properly execute the push and the draw actions of an object within the KARMA experiment to then learn the corresponding affordance. <br />
 It also enable the tool exploration.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP libraries.</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p>&ndash;robot <em>robot</em> </p><ul>
<li>Select the robot to connect to.</li>
</ul>
<p>&ndash;name <em>name</em> </p><ul>
<li>Select the stem-name of the module used to open up ports. By default <em>name</em> is <em>karmaMotor</em>.</li>
</ul>
<p>&ndash;elbow_set <em>(&lt;height&gt; &lt;weight&gt;)</em></p><ul>
<li>To specify how to weigh the task to keep the elbow high.</li>
</ul>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<p>Assume that iCubInterface (with ICartesianControl interface implemented) is running.</p>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<ul>
<li><em>/karmaMotor/rpc</em> receives the information to execute the motor action as a Bottle. It manages the following commands:<ol type="1">
<li><b>Push</b>: <em>[push] cx cy cz theta radius</em>. <br />
 The coordinates <em>(cx,cy,cz)</em> represent in meters the position of the object's centroid to be pushed; <em>theta</em>, given in degrees, and <em>radius</em>, specified in meters, account for the point from which push the object, that is located onto the circle centered in <em>(cx,cy,cz)</em> and contained in the x-y plane. <br />
 The reply <em>[ack]</em> is returned as soon as the push is accomplished.</li>
<li><b>Draw</b>: <em>[draw] cx cy cz theta radius dist</em>. <br />
 The coordinates <em>(cx,cy,cz)</em> represent in meters the position of the object's centroid to be drawn closer; <em>theta</em>, given in degrees, and <em>radius</em>, specified in meters, account for the point from which draw the object, that is located onto the circle centered in <em>(cx,cy,cz)</em> and contained in the x-y plane. The parameter <em>dist</em> specifies the length in meters of the draw action. <br />
 The reply <em>[ack]</em> is returned as soon as the draw is accomplished.</li>
<li><b>Virtual draw</b>: <em>[vdraw] cx cy cz theta radius dist</em>. <br />
 Simulate the draw without performing any movement in order to test the quality of the action. <br />
 The reply <em>[ack] val</em> is returned at the end of the simulation, where <em>val</em> accounts for the quality of the action: the lower it is the better the action is.</li>
<li><b>Tool-attach</b>: <em>[tool] [attach] arm x y z</em>. <br />
 Attach a tool to the given arm whose dimensions are specified in the frame attached to the hand. The subsequent action will make use of this tool.</li>
<li><b>Tool-get</b>: <em>[tool] [get]</em>. <br />
 Retrieve tool information as <em>[ack] arm x y z</em>.</li>
<li><b>Tool-remove</b>: <em>[tool] [remove]</em>. <br />
 Remove the attached tool.</li>
<li><b>Find</b>: <em>[find] arm eye</em>. <br />
 An exploration is performed which aims at finding the tool dimension. It is possible to select the arm for executing the movement as well as the eye from which the motion is observed. The reply <em>[ack] x y z</em> returns the tool's dimensions with respect to reference frame attached to the robot hand.</li>
</ol>
</li>
<li><em>/karmaMotor/stop</em>:i receives request for immediate stop of any ongoing processing.</li>
<li><em>/karmaMotor/vision</em>:i receives the information about the pixel corresponding to the tool tip during the tool exploration phase.</li>
<li><em>/karmaMotor/finder</em>:rpc communicates with the module in charge of solving for the tool's dimensions.</li>
</ul>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Windows, Linux</p>
<dl class="section author"><dt>Author</dt><dd>Ugo Pattacini </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
